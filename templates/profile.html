{% extends "_base.html" %}

{% block title %}User Profile{% endblock %}

{% block body %}
<button class="btn btn-secondary" type="button" data-toggle="collapse" data-target="#passreset" aria-expanded="false" aria-controls="passreset">
	Reset Password
</button>
<button class="btn btn-secondary" type="button" data-toggle="collapse" data-target="#stattable" aria-expanded="false" aria-controls="stattable">
	Show Stats
</button>
<div class="collapse" id="passreset">
	<br><br>
	<div class="card" style="align-text:center; display:flex; align-items:center;">
		<h3>Change Your Password</h3>
		<form action="/resetpasswd" method="post" class="w-50 p-3">
			<div class="form-group">
				<label for="password" class="font-weight-bold">New Password</label>
				<input name="password" type="password" class="form-control" id="password">
			</div>
			<div class="form-group">
				<label for="verif" class="font-weight-bold">Password Verification</label>
				<input name="verif" type="password" class="form-control" id="password">
			</div>
			<div class="form-group">
				<label for="oldpass" class="font-weight-bold">Old Password</label>
				<input name="oldpass" type="password" class="form-control" id="oldpass">
			</div>
			<br>
			<button type="submit" class="btn btn-primary">Change Password!</button>
		</form><br>
	</div>
</div>
<div class="collapse" id="stattable">
	<br><br>
	<h3>Your Statistics</h3>
	<table class="table table-striped table-hover w-75 p-3" >
	<thead class="thead-dark">
		<tr>
			<th>Category</th>
			<th>QN Answered</th>
			<th>QN Attempted</th>
		</tr>
	</thead>
	<tbody>
		{% for category, value in stats %}
			<tr>
				<td>{{ category }}</td>
				{% for stat in value %}
					<td>
						{{ stat }}
					</td>
				{% endfor %}
			</tr>
		{% endfor %}
	</tbody>
	</table>
</div>
<br>
<br>
<div class="card" id="games">
	{% for game in games %}
	<form action="/play" method="post">
		<input type="hidden" name="id" value="{{ game }}">
		<button class="btn btn-primary" type="submit">{{ game }}</button>
	</form>
	<br>
	{% endfor %}
</div>
<div class="card" id="icon">
	<form action="/icon" method="post">
		{% for item in coll %}
		<div class="form-group">
			<input name="img" type="radio" class="form-control"><img src="{{ item }}" alt="{{ item }}" style="width=300px; height=300px;">
		</div>
		{% endfor %}
		<br>
		<button type="submit" class="btn btn-primary">Set Player Icon!</button>
	</form>
	<div class="card">
	<h5 style="margin-top: 10px;">Want more icons?</h5>
	<a href="/store">Buy An Icon!</a>
	</div>

</div>

{% endblock %}
