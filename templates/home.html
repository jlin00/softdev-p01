{% extends "_base.html" %}

{% block title %}
	Home
{% endblock %}

{% block body %}
	<h1>Dashboard</h1><br>

	<br>
	<div class="container w-50">
	  <div class="row">
	    <div class="col-sm">
	      <img src="{{ pic }}" class="mb-2 img-thumbnail" style="width:250px">
				{% if isOwner %}
				<form action="/profile">
					<button type="submit" class="btn btn-primary" style="width:250px;">Change Picture</button>
				</form>
				{% endif %}
	    </div>
	    <div class="col-sm font-weight-bold">
	      <h1>{{ user }}</h1>
				<h4 class="text-primary font-weight-light">Score: {{ score }}</h4>
				<h4 class="text-success font-weight-light">Money: {{ money }}</h4><br>
				<button class="btn btn-info mr-2" style="width:125px" type="button" data-toggle="collapse" data-target="#games" aria-expanded="true" aria-controls="games">
					View Games
				</button>
				<button class="btn btn-info ml-2" style="width:125px" data-toggle="collapse" data-target="#stattable" aria-expanded="true" aria-controls="stattable">
	        Show Stats
        </button>
	    </div>
	  </div><br><br>

		<div class="card collapse" id="games">
			<h3>Games</h3>
				{% for game in games %}
				<form action="/play" method="post">
					<input type="hidden" name="id" value="{{ game }}">
					<button class="btn btn-primary" type="submit">{{ game }}</button>
				</form>
				<br>
				{% endfor %}
		</div>

		<div class="collapse" id="stattable">
			<h3>Statistics</h3>
			<table class="table table-striped table-hover p-3" >
			<thead class="thead-dark">
				<tr>
					<th>Category</th>
					<th>QN Answered</th>
					<th>QN Attempted</th>
				</tr>
			</thead>
			<tbody>
				{% for category, value in stats %}
					<tr class="text-center">
						<td>{{ category }}</td>
						{% for stat in value %}
							<td>
								{{ stat }}
							</td>
						{% endfor %}
					</tr>
				{% endfor %}
			</tbody>
			</table>
		</div>
	</div>

{% endblock %}
